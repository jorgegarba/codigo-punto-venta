{"version":3,"sources":["services/authService.js","context/auth/authContext.js","context/auth/authState.js","modules/admin/components/AdminHeader.js","modules/admin/screens/dashboard/AdminDashboardScreen.js","environments/environments.js","services/pedidoService.js","modules/admin/screens/pedidos/AdminPedidosScreen.js","modules/admin/screens/verpedido/AdminVerPedidoScreen.js","modules/admin/AdminRouter.js","modules/auth/screens/login/AuthLoginScreen.js","modules/auth/screens/register/AuthRegisterScreen.js","modules/auth/AuthRouter.js","context/pos/posContext.js","context/pos/posReducer.js","context/pos/posState.js","services/categoriaService.js","assets/img/plato_blanco.svg","modules/pos/screens/pedido/components/PosCategorias.js","modules/pos/screens/pedido/components/PosComandaItem.js","modules/pos/screens/pedido/components/PosModalBoleta.js","modules/pos/screens/pedido/components/PosComanda.js","assets/img/logo.svg","assets/img/search.svg","modules/pos/screens/pedido/components/PosHeader.js","services/mesasService.js","modules/pos/screens/pedido/components/PosMesas.js","modules/pos/screens/pedido/components/PosPlato.js","modules/pos/screens/pedido/components/PosPlatos.js","modules/pos/screens/pedido/PosPedidoScreen.js","modules/pos/PosRouter.js","Private.js","App.js","index.js"],"names":["URL_BACKEND","postLogin","objAuth","a","fetch","method","headers","body","JSON","stringify","peticion","json","data","postVerificarToken","token","AuthContext","createContext","AuthState","children","history","useHistory","useState","autenticado","usu_nom","usu_id","cargando","auth","setAuth","useEffect","localStorage","getItem","then","console","log","ok","payload","split","payloadDesencriptado","window","atob","payloadJSON","parse","removeItem","iniciarSesionConLocalStorage","Provider","value","iniciarSesionContext","setItem","cerrarSesion","replace","AdminHeader","className","href","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","aria-haspopup","aria-labelledby","placeholder","AdminDashboardScreen","postPedido","objPedido","getPedidos","getPedidoById","pedido_id","AdminPedidosScreen","columns","label","field","rows","datatable","setDatatable","filas","pedidos","map","pedido","pedido_fech","pedido_nro","pedido_est","usuario_nombre","Usuario","usu_ape","numero_mesa","Mesa","mesa_nro","total_platos","PedidoPlatos","reduce","valorAnt","objActual","pedidoplato_cant","acciones","onClick","push","AdminVerPedidoScreen","props","setPedido","setCargando","match","params","objPedidoPlato","i","Plato","plato_nom","src","plato_img","alt","width","plato_pre","pedidoplato_id","AdminRouter","path","component","AuthLoginScreen","useContext","correo","password","formulario","setFormulario","handleChange","e","target","name","onSubmit","preventDefault","rpta","htmlFor","onChange","AuthRegisterScreen","AuthRouter","PosContext","PosReducer","stateActual","action","categoria_global","mesa_global","modal_boleta","PosState","useReducer","state","dispatch","setModalBoleta","valor","borrarPedido","filter","objMesa","mesa_id","restarPlatoAPedido","objPlato","objPedidoActual","find","platoPedido","platos","plato","plato_id","cantidad","length","seleccionarCategoriaGlobal","objCategoria","seleccionarMesaGlobal","incrementarPlatoAPedido","estado","getCategorias","getPlatosByCategoriaId","PosCategorias","categorias","setCategorias","content","role","style","textAlign","categoria_id","platoIcon","categoria_nom","PosComandaItem","PosModalBoleta","referencia","useRef","Modal","show","onHide","size","Header","closeButton","Title","Body","ref","Footer","trigger","current","classNameName","PosComanda","pedidoActual","Swal","fire","title","text","icon","showCancelButton","isConfirmed","moment","format","uuidv4","pedidoplatos","timer","position","PosHeader","logo","searchIcon","to","class","getMesas","PosMesas","mesas","setMesas","PosPlato","PosPlatos","setPlatos","Platos","PosPedidoScreen","PosRouter","Private","Component","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5d5d259a.chunk.js","sourcesContent":["const URL_BACKEND = \"https://codigo4-pos.herokuapp.com\"\r\n\r\nexport const postLogin = async (objAuth) => {\r\n\r\n  const peticion = await fetch(`${URL_BACKEND}/login`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-type\": \"application/json\"\r\n    },\r\n    body: JSON.stringify(objAuth)\r\n  });\r\n  let data = await peticion.json();\r\n  return data\r\n}\r\n\r\nexport const postVerificarToken = async token => {\r\n  const peticion = await fetch(`${URL_BACKEND}/verificar`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Authorization\": `Bearer ${token}`\r\n    }\r\n  });\r\n  const data = await peticion.json();\r\n  return data;\r\n}","import { createContext } from \"react\";\r\nconst AuthContext = createContext();\r\nexport default AuthContext;","import React, { useEffect, useState } from 'react'\r\nimport { postVerificarToken } from '../../services/authService';\r\nimport AuthContext from './authContext';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst AuthState = ({ children }) => {\r\n\r\n  const history = useHistory();\r\n\r\n  const [auth, setAuth] = useState({\r\n    autenticado: false,\r\n    usu_nom: null,\r\n    usu_id: null,\r\n    token: null,\r\n    cargando: true\r\n  });\r\n\r\n\r\n  const cerrarSesion = () => {\r\n    localStorage.removeItem(\"token\");\r\n    // push() vs replace()\r\n    // push() nos da la posibilidad de navegar a una nueva ruta, sin embargo\r\n    // podemos clicar en el botón ATRÁS del navegador y podemos tener problemas.\r\n    // replace() mismo comportamiento pero borra el historial de navegacion\r\n    // en nuestro proyecto\r\n    history.replace(\"/\");\r\n    setAuth({\r\n      autenticado: false,\r\n      usu_nom: null,\r\n      usu_id: null,\r\n      token: null,\r\n      cargando: true\r\n    })\r\n  }\r\n  const iniciarSesionContext = token => {\r\n\r\n    // guardamos el token en el localstorage porque\r\n    // cuando actualizamos la página, el localstorage no se borra.\r\n    localStorage.setItem(\"token\", token);\r\n\r\n    const payload = token.split(\".\")[1];\r\n    const payloadDesencriptado = window.atob(payload);\r\n    const payloadJSON = JSON.parse(payloadDesencriptado);\r\n    setAuth({\r\n      autenticado: true,\r\n      usu_nom: payloadJSON.usu_nom,\r\n      usu_id: payloadJSON.usu_id,\r\n      token: token,\r\n      cargando: false\r\n    });\r\n  }\r\n\r\n  const iniciarSesionConLocalStorage = () => {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (token) {\r\n      //TODO verificar si el token tenía tiempo de vida\r\n      // a través del BACKEND\r\n      postVerificarToken(token).then(data => {\r\n        console.log(data);\r\n        if (data.ok) {\r\n          const payload = token.split(\".\")[1];\r\n          const payloadDesencriptado = window.atob(payload);\r\n          const payloadJSON = JSON.parse(payloadDesencriptado);\r\n          setAuth({\r\n            autenticado: true,\r\n            usu_nom: payloadJSON.usu_nom,\r\n            usu_id: payloadJSON.usu_id,\r\n            token: token,\r\n            cargando: false\r\n          });\r\n        } else {\r\n          //Sí había token, pero ya había caducado o el token estaba alterado\r\n          localStorage.removeItem(\"token\");\r\n          setAuth({\r\n            autenticado: false,\r\n            usu_nom: null,\r\n            usu_id: null,\r\n            token: null,\r\n            cargando: false\r\n          })\r\n        }\r\n        // SI EL TOKEN ES VÁLIDO, INICIAR SESIÓN EN EL STATE DEL CONTEXT\r\n      })\r\n    } else {\r\n      // No hacer nada o redireccionar al home\r\n      setAuth({\r\n        autenticado: false,\r\n        usu_nom: null,\r\n        usu_id: null,\r\n        token: null,\r\n        cargando: false\r\n      })\r\n    }\r\n  }\r\n  useEffect(() => {\r\n    iniciarSesionConLocalStorage();\r\n  }, [])\r\n\r\n  return (\r\n    <AuthContext.Provider value={{\r\n      autenticado: auth.autenticado,\r\n      usu_nom: auth.usu_nom,\r\n      usu_id: auth.usu_id,\r\n      token: auth.token,\r\n      cargando: auth.cargando,\r\n      iniciarSesionContext: iniciarSesionContext,\r\n      cerrarSesion: cerrarSesion\r\n    }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  )\r\n}\r\n\r\nexport default AuthState\r\n","import React from 'react'\r\n\r\nconst AdminHeader = () => {\r\n  return (\r\n    <header>\r\n      <nav className=\"navbar navbar-expand-sm navbar-dark bg-dark\">\r\n        <a className=\"navbar-brand\" href=\"#\"><span className=\"text-warning\">POS</span> Admin</a>\r\n        <button className=\"navbar-toggler d-lg-none\" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapsibleNavId\" aria-controls=\"collapsibleNavId\"\r\n          aria-expanded=\"false\" aria-label=\"Toggle navigation\"></button>\r\n        <div className=\"collapse navbar-collapse\" id=\"collapsibleNavId\">\r\n          <ul className=\"navbar-nav mr-auto mt-2 mt-lg-0\">\r\n            <li className=\"nav-item active\">\r\n              <a className=\"nav-link\" href=\"#\">Home <span className=\"sr-only\">(current)</span></a>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <a className=\"nav-link\" href=\"#\">Link</a>\r\n            </li>\r\n            <li className=\"nav-item dropdown\">\r\n              <a className=\"nav-link dropdown-toggle\" href=\"#\" id=\"dropdownId\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">Dropdown</a>\r\n              <div className=\"dropdown-menu\" aria-labelledby=\"dropdownId\">\r\n                <a className=\"dropdown-item\" href=\"#\">Action 1</a>\r\n                <a className=\"dropdown-item\" href=\"#\">Action 2</a>\r\n              </div>\r\n            </li>\r\n          </ul>\r\n          <form className=\"form-inline my-2 my-lg-0\">\r\n            <input className=\"form-control mr-sm-2\" type=\"text\" placeholder=\"Search\" />\r\n            <button className=\"btn btn-outline-success my-2 my-sm-0\" type=\"submit\">Search</button>\r\n          </form>\r\n        </div>\r\n      </nav>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default AdminHeader\r\n","import React from 'react'\r\n\r\nconst AdminDashboardScreen = () => {\r\n  return (\r\n    <div>\r\n      ADMIN DASHBOARD\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AdminDashboardScreen\r\n","export const URL_BACKEND = \"https://codigo4-pos.herokuapp.com\";","import { URL_BACKEND } from \"../environments/environments\"\r\n\r\nexport const postPedido = async objPedido => {\r\n  const peticion = await fetch(`${URL_BACKEND}/pedido`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-type\": \"application/json\"\r\n    },\r\n    body: JSON.stringify(objPedido)\r\n  });\r\n  const data = await peticion.json();\r\n  return data;\r\n}\r\n\r\nexport const getPedidos = async () => {\r\n  const peticion = await fetch(`${URL_BACKEND}/pedido`);\r\n  const data = await peticion.json();\r\n  return data;\r\n}\r\n\r\nexport const getPedidoById = async (pedido_id) => {\r\n  const peticion = await fetch(`${URL_BACKEND}/pedido/${pedido_id}`);\r\n  const data = await peticion.json();\r\n  return data;\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { MDBDataTableV5 } from \"mdbreact\";\r\nimport { getPedidos } from '../../../../services/pedidoService';\r\n\r\nconst AdminPedidosScreen = ({ history }) => {\r\n\r\n\r\n  const [datatable, setDatatable] = useState({\r\n    columns: [\r\n      { label: \"Id\", field: \"pedido_id\" },\r\n      { label: \"Fecha\", field: \"pedido_fech\" },\r\n      { label: \"Nro\", field: \"pedido_nro\" },\r\n      { label: \"Estado\", field: \"pedido_est\" },\r\n      { label: \"Usuario\", field: \"usuario_nombre\" },\r\n      { label: \"Mesa\", field: \"numero_mesa\" },\r\n      { label: \"Platos\", field: \"total_platos\" },\r\n      { label: \"Acciones\", field: \"acciones\" }\r\n    ],\r\n    rows: []\r\n  });\r\n\r\n  useEffect(() => {\r\n    getPedidos().then((data) => {\r\n      if (data.ok) {\r\n        const filas = data.pedidos.map((pedido) => {\r\n          return {\r\n            pedido_id: pedido.pedido_id,\r\n            pedido_fech: pedido.pedido_fech,\r\n            pedido_nro: pedido.pedido_nro,\r\n            pedido_est: pedido.pedido_est,\r\n            usuario_nombre: pedido.Usuario?.usu_nom + \" \" + pedido.Usuario?.usu_ape,\r\n            numero_mesa: pedido.Mesa?.mesa_nro,\r\n            total_platos: pedido.PedidoPlatos.reduce((valorAnt, objActual) => {\r\n              return valorAnt + +objActual.pedidoplato_cant;\r\n            }, 0),\r\n            acciones: <button className=\"btn btn-dark\" onClick={() => {\r\n              history.push(`/admin/pedidos/${pedido.pedido_id}`);\r\n            }}>Ver Pedido</button>\r\n          }\r\n        });\r\n\r\n        setDatatable({\r\n          ...datatable,\r\n          rows: filas\r\n        })\r\n      }\r\n    })\r\n  }, []);\r\n\r\n\r\n\r\n  return (\r\n    <main className=\"container mt-5\">\r\n      <div className=\"row\">\r\n        <div className=\"col\">\r\n          <h1 className=\"display-4 text-center\">\r\n            Lista de Pedidos\r\n          </h1>\r\n          <hr />\r\n        </div>\r\n      </div>\r\n      <div className=\"row\">\r\n        <div className=\"col\">\r\n          <div className=\"card shadow\">\r\n            <div className=\"card-body\">\r\n\r\n              <MDBDataTableV5 data={datatable} />\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default AdminPedidosScreen\r\n","import React, { useEffect, useState } from 'react'\r\nimport { getPedidoById } from '../../../../services/pedidoService';\r\n\r\nconst AdminVerPedidoScreen = (props) => {\r\n\r\n  const [pedido, setPedido] = useState({});\r\n  const [cargando, setCargando] = useState(true);\r\n\r\n  useEffect(() => {\r\n    getPedidoById(props.match.params.pedido_id).then(data => {\r\n      if (data.ok) {\r\n        setPedido(data.pedido);\r\n      }\r\n      setCargando(false);\r\n    })\r\n  }, []);\r\n\r\n  return (\r\n    <main className=\"container mt-5\">\r\n      {\r\n        cargando ?\r\n          <div className=\"alert alert-primary text-center display-4\">\r\n            Cargando... <i className=\"fas fa-spinner fa-spin\"></i>\r\n          </div> :\r\n          (\r\n            <>\r\n              <div className=\"row\">\r\n                <div className=\"col\">\r\n                  <h4>Información del Pedido</h4>\r\n                </div>\r\n              </div>\r\n              <div className=\"row my-5\">\r\n                <div className=\"col\">\r\n                  <div className=\"card shadow\">\r\n                    <div className=\"card-body\">\r\n                      <div className=\"row\">\r\n                        <div className=\"col-md-6\">\r\n                          <p className=\"card-text\">\r\n                            <strong>Pedido Id:</strong> &nbsp; {pedido.pedido_id}\r\n                          </p>\r\n                          <p className=\"card-text\">\r\n                            <strong>Usuario:</strong> &nbsp; {pedido.Usuario?.usu_nom + \" \" + pedido.Usuario?.usu_ape}\r\n                          </p>\r\n                          <p className=\"card-text\">\r\n                            <strong>Estado del Pedido:</strong> &nbsp;\r\n                    {\r\n                              pedido.pedido_est === \"pagado\" ?\r\n                                <span className=\"badge badge-success\">Pagado</span> :\r\n                                <span className=\"badge badge-secondary\">{pedido.pedido_est}</span>\r\n                            }\r\n                          </p>\r\n                        </div>\r\n                        <div className=\"col-md-6 text-right\">\r\n                          <p className=\"card-text\">\r\n                            <strong>Fecha:</strong> &nbsp; {pedido.pedido_fech}\r\n                          </p>\r\n                          <p className=\"card-text\">\r\n                            <strong>Número de mesa:</strong> &nbsp; {pedido.Mesa?.mesa_nro}\r\n                          </p>\r\n                          <p className=\"card-text\">\r\n                            <strong>Número de pedido:</strong> &nbsp;\r\n                    <span className=\"display-4\"> # {pedido.pedido_nro}</span>\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"row\">\r\n                <div className=\"col\">\r\n                  <div className=\"card shadow\">\r\n                    <div className=\"card-body\">\r\n                      <div className=\"table-responsive\">\r\n                        <table className=\"table table-bordered table-hover table-striped\">\r\n                          <thead>\r\n                            <tr>\r\n                              <th>#</th>\r\n                              <th>Cantidad</th>\r\n                              <th>Descripción</th>\r\n                              <th>Foto</th>\r\n                              <th>P. Unitario</th>\r\n                              <th>P. Total</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {\r\n                              pedido.PedidoPlatos.map((objPedidoPlato, i) => {\r\n                                return <tr key={objPedidoPlato.pedidoplato_id}>\r\n                                  <td>{i}</td>\r\n                                  <td>{objPedidoPlato.pedidoplato_cant}</td>\r\n                                  <td>{objPedidoPlato.Plato.plato_nom}</td>\r\n                                  <td><img src={objPedidoPlato.Plato.plato_img} alt=\"\" width=\"120\" /></td>\r\n                                  <td>S/ {objPedidoPlato.Plato.plato_pre}</td>\r\n                                  <td>S/ {+objPedidoPlato.Plato.plato_pre * +objPedidoPlato.pedidoplato_cant}</td>\r\n                                </tr>\r\n                              })\r\n                            }\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </>\r\n          )\r\n      }\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default AdminVerPedidoScreen\r\n","import React from 'react'\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport AdminHeader from './components/AdminHeader';\r\nimport AdminDashboardScreen from './screens/dashboard/AdminDashboardScreen';\r\nimport AdminPedidosScreen from './screens/pedidos/AdminPedidosScreen';\r\nimport AdminVerPedidoScreen from './screens/verpedido/AdminVerPedidoScreen';\r\nconst AdminRouter = () => {\r\n  return (\r\n    <>\r\n      <AdminHeader />\r\n      <Switch>\r\n        <Route path=\"/admin/dashboard\" component={AdminDashboardScreen} />\r\n        <Route path=\"/admin/pedidos/:pedido_id\" component={AdminVerPedidoScreen} />\r\n        <Route path=\"/admin/pedidos\" component={AdminPedidosScreen} />\r\n      </Switch>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default AdminRouter\r\n","import React, { useContext, useState } from 'react'\r\nimport AuthContext from '../../../../context/auth/authContext';\r\nimport { postLogin } from '../../../../services/authService';\r\n\r\n\r\n\r\nconst AuthLoginScreen = (props) => {\r\n\r\n  const { iniciarSesionContext } = useContext(AuthContext);\r\n\r\n  const [formulario, setFormulario] = useState({\r\n    correo: \"\",\r\n    password: \"\"\r\n  });\r\n\r\n  const handleChange = e => {\r\n    setFormulario({\r\n      ...formulario,\r\n      [e.target.name]: e.target.value\r\n    })\r\n  }\r\n\r\n  const submit = e => {\r\n    e.preventDefault();\r\n    // TODO: Aplicar validación\r\n    postLogin(formulario).then(rpta => {\r\n      console.log(rpta);\r\n      if (rpta.ok) {\r\n        /// significa login exitoso =)\r\n        iniciarSesionContext(rpta.token);\r\n        props.history.push(\"/pos/pedido\")\r\n      }\r\n    })\r\n  }\r\n\r\n  return (\r\n    <main className=\"container-fluid bg-dark login-screen\">\r\n      <div className=\"row\">\r\n        <div className=\"col-md-4\">\r\n          <div className=\"card\">\r\n            <div className=\"card-body\">\r\n              <form onSubmit={submit}>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"\">Usuario</label>\r\n                  <input type=\"text\" placeholder=\"Ejm: jgarnica@mail.com\"\r\n                    className=\"form-control\" id=\"correo\" name=\"correo\"\r\n                    onChange={handleChange} value={formulario.correo}\r\n                  />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"\">Password</label>\r\n                  <input type=\"password\" name=\"password\" id=\"password\"\r\n                    className=\"form-control\" onChange={handleChange}\r\n                    value={formulario.password} />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <button type=\"submit\" className=\"btn btn-dark\">\r\n                    Iniciar Sesión\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default AuthLoginScreen\r\n","import React from 'react'\r\n\r\nconst AuthRegisterScreen = () => {\r\n  return (\r\n    <div>\r\n      AuthRegisterScreen\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AuthRegisterScreen\r\n","import React from 'react'\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport AuthLoginScreen from './screens/login/AuthLoginScreen';\r\nimport AuthRegisterScreen from './screens/register/AuthRegisterScreen';\r\n\r\nconst AuthRouter = () => {\r\n  return (\r\n    <>\r\n      <Switch>\r\n        <Route path=\"/auth/login\" component={AuthLoginScreen} />\r\n        <Route path=\"/auth/register\" component={AuthRegisterScreen} />\r\n      </Switch>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default AuthRouter\r\n","import { createContext } from \"react\";\r\nconst PosContext = createContext();\r\nexport default PosContext;","const PosReducer = (stateActual, action) => {\r\n  //OJO Todo lo que retorne un REDUCER es el nuevo\r\n  // state\r\n  if (action.type === \"SELECCIONAR_CATEGORIA\") {\r\n    return {\r\n      ...stateActual,\r\n      categoria_global: action.data\r\n    }\r\n  }\r\n  if (action.type === \"SELECCIONAR_MESA\") {\r\n    return {\r\n      ...stateActual,\r\n      mesa_global: action.data\r\n    }\r\n  }\r\n  if (action.type === \"ACTUALIZAR_PEDIDOS\") {\r\n    return {\r\n      ...stateActual,\r\n      pedidos: action.data\r\n    }\r\n  }\r\n  if (action.type === \"MODAL_BOLETA\") {\r\n    return {\r\n      ...stateActual,\r\n      modal_boleta: action.data\r\n    }\r\n  }\r\n  return { ...stateActual }\r\n}\r\nexport default PosReducer;","import React, { useReducer } from 'react'\r\nimport PosContext from './posContext'\r\nimport PosReducer from './posReducer';\r\n\r\nconst PosState = ({ children }) => {\r\n\r\n  const [state, dispatch] = useReducer(PosReducer, {\r\n    categoria_global: null,\r\n    mesa_global: null,\r\n    pedidos: [],\r\n    modal_boleta: false,\r\n  });\r\n\r\n  const setModalBoleta = (valor) => {\r\n    dispatch({\r\n      type: \"MODAL_BOLETA\",\r\n      data: valor\r\n    })\r\n  }\r\n  \r\n  const borrarPedido = () => {\r\n    let { mesa_global, pedidos } = state;\r\n    pedidos = pedidos.filter(pedido => pedido.objMesa.mesa_id !== mesa_global.mesa_id);\r\n    dispatch({\r\n      type: \"ACTUALIZAR_PEDIDOS\",\r\n      data: pedidos\r\n    })\r\n  }\r\n  const incrementarPlatoAPedido = objPlato => {\r\n    const { pedidos, mesa_global } = state;\r\n    if (!mesa_global) return;\r\n    // casos a considerar\r\n    // 1. si la mesa estaba vacía, y es el primer plato del pedido\r\n    // 2. si la mesa tenía un pedido pero no tenía el plato, y vamos \r\n    // a crear el primer plato de ese pedido\r\n    // 3. si la mesa tenía un pedido y tenía un plato de ese tipo en el \r\n    // pedido, para incrementar la cantidad de platos en ese pedido\r\n\r\n    // intentar obtener un pedidoActual en el que figure la mesa_global\r\n    let objPedidoActual =\r\n      pedidos.find(objPedido => objPedido.objMesa.mesa_id === mesa_global.mesa_id);\r\n\r\n    // preguntamos si el objPedido actual, es un obj que existe(es decir que la mesa\r\n    // global seleccionada estuviera presente en un pedido del arreglo de pedidos),\r\n    // en caso contrario, el objPedidoActual(linea 24) sería \"undefined\"\r\n    if (objPedidoActual) {\r\n      // significa que la mesa_global actual, ya tenía un pedido}\r\n      // Vamos a analizar si el plato que queremos agregar al pedido, ya existía\r\n      let platoPedido =\r\n        objPedidoActual.platos.find(plato => plato.plato_id === objPlato.plato_id);\r\n\r\n      // Preguntamos si el plato que estuvimos buscando, ya se encontraba \r\n      // en el arreglo de platos, debemos autmentar una unidad a la cantidad.\r\n      // en caso contrario, significa que la mesa sí tenía platos, pero no \r\n      // tenía un plato como el que queremos agregar\r\n      if (platoPedido) {\r\n        // ya había uno o más platos del plato que queremos agregar\r\n        platoPedido.cantidad += 1;\r\n        dispatch({\r\n          type: \"ACTUALIZAR_PEDIDOS\",\r\n          data: pedidos\r\n        })\r\n      } else {\r\n        // la mesa tenía platos, pero no como el que queremos agregar\r\n        objPedidoActual.platos.push({\r\n          ...objPlato,\r\n          cantidad: 1\r\n        });\r\n        dispatch({\r\n          type: \"ACTUALIZAR_PEDIDOS\",\r\n          data: pedidos\r\n        })\r\n      }\r\n\r\n\r\n    } else {\r\n      // significa que la mesa_global actual, está vacía, no tenía ningún pedido\r\n      // agregamos el primer pedido de la mesa_actual con su primer plato\r\n      pedidos.push({\r\n        estado: \"pendiente\",\r\n        objMesa: {\r\n          ...mesa_global\r\n        },\r\n        platos: [\r\n          {\r\n            ...objPlato,\r\n            cantidad: 1\r\n          }\r\n        ]\r\n      });\r\n\r\n      // Entonces actualizamos el state global\r\n      dispatch({\r\n        type: \"ACTUALIZAR_PEDIDOS\",\r\n        data: pedidos\r\n      });\r\n    }\r\n  }\r\n  const restarPlatoAPedido = objPlato => {\r\n    let { pedidos, mesa_global } = state;\r\n    if (!mesa_global) return;\r\n    let objPedidoActual =\r\n      pedidos.find(objPedido => objPedido.objMesa.mesa_id === mesa_global.mesa_id);\r\n    if (objPedidoActual) {\r\n      let platoPedido =\r\n        objPedidoActual.platos.find(plato => plato.plato_id === objPlato.plato_id);\r\n      if (platoPedido) {\r\n        platoPedido.cantidad -= 1;\r\n        if (platoPedido.cantidad === 0) {\r\n          objPedidoActual.platos = objPedidoActual.platos.filter(plato => plato.plato_id !== objPlato.plato_id);\r\n          if (objPedidoActual.platos.length === 0) {\r\n            pedidos = pedidos.filter(pedido => pedido.objMesa.mesa_id !== mesa_global.mesa_id);\r\n          }\r\n        }\r\n        dispatch({\r\n          type: \"ACTUALIZAR_PEDIDOS\",\r\n          data: pedidos\r\n        });\r\n      }\r\n    }\r\n  }\r\n  const seleccionarCategoriaGlobal = objCategoria => {\r\n    // intentar seleccionar o settear una categoria global\r\n    dispatch({\r\n      data: objCategoria,\r\n      type: \"SELECCIONAR_CATEGORIA\"\r\n    });\r\n  }\r\n  const seleccionarMesaGlobal = objMesa => {\r\n    dispatch({\r\n      data: objMesa,\r\n      type: \"SELECCIONAR_MESA\"\r\n    })\r\n  }\r\n\r\n\r\n  return (\r\n    <PosContext.Provider value={{\r\n      mesa_global: state.mesa_global,\r\n      categoria_global: state.categoria_global,\r\n      pedidos: state.pedidos,\r\n\r\n      modal_boleta: state.modal_boleta,\r\n      setModalBoleta: setModalBoleta,\r\n\r\n      borrarPedido: borrarPedido,\r\n      restarPlatoAPedido: restarPlatoAPedido,\r\n      seleccionarCategoriaGlobal: seleccionarCategoriaGlobal,\r\n      seleccionarMesaGlobal: seleccionarMesaGlobal,\r\n      incrementarPlatoAPedido: incrementarPlatoAPedido\r\n    }}>\r\n      {children}\r\n    </PosContext.Provider>\r\n  )\r\n}\r\n\r\nexport default PosState\r\n","import { URL_BACKEND } from \"../environments/environments\";\r\nexport const getCategorias = async () => {\r\n  const peticion = await fetch(`${URL_BACKEND}/categoria`);\r\n  const data = await peticion.json();\r\n  return data;\r\n}\r\nexport const getPlatosByCategoriaId = async id => {\r\n  const peticion = await fetch(`${URL_BACKEND}/categoria/${id}/platos`);\r\n  const data = await peticion.json();\r\n  return data;\r\n}","export default __webpack_public_path__ + \"static/media/plato_blanco.6334c308.svg\";","import React, { useContext, useEffect, useState } from 'react'\r\nimport PosContext from '../../../../../context/pos/posContext';\r\nimport { getCategorias } from '../../../../../services/categoriaService';\r\nimport platoIcon from \"./../../../../../assets/img/plato_blanco.svg\"\r\n\r\nconst PosCategorias = () => {\r\n\r\n  const [categorias, setCategorias] = useState([]);\r\n  const [cargando, setCargando] = useState(true);\r\n  const { seleccionarCategoriaGlobal, categoria_global } = useContext(PosContext);\r\n\r\n\r\n  useEffect(() => {\r\n    getCategorias().then(data => {\r\n      if (data.ok) {\r\n        setCategorias(data.content);\r\n        setCargando(false);\r\n      }\r\n    })\r\n  }, []);\r\n\r\n  return (\r\n    <nav className=\"menu\">\r\n      <ul className=\"menu__lista\">\r\n        {cargando ?\r\n          <div className=\"spinner-border text-light\" role=\"status\">\r\n            <span className=\"sr-only\">Loading...</span>\r\n          </div> :\r\n\r\n          categorias.map(objCategoria => {\r\n            // return (<li className=\"active\">\r\n            return (<li style={{ textAlign: \"center\" }}\r\n              key={objCategoria.categoria_id}\r\n              className={\r\n                objCategoria.categoria_id === categoria_global?.categoria_id ? \"active\" : \"\"\r\n              }\r\n              onClick={() => {\r\n                seleccionarCategoriaGlobal(objCategoria);\r\n              }}>\r\n              <img src={platoIcon} alt=\"\" />\r\n              <span>{objCategoria.categoria_nom}</span>\r\n            </li>);\r\n          })\r\n        }\r\n      </ul>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default PosCategorias\r\n","import React from 'react'\r\n\r\nconst PosComandaItem = ({ objPlato }) => {\r\n  return (\r\n    <li className=\"comanda__item\">\r\n      <p className=\"comanda__nombre\">\r\n        <span><strong>{objPlato.plato_nom}</strong></span>\r\n        <span>Precio: S/ {objPlato.plato_pre}</span>\r\n      </p>\r\n      <p className=\"comanda__cantidad\">{objPlato.cantidad}</p>\r\n      <p className=\"comanda__precio\">\r\n        <strong>S/ {+objPlato.cantidad * +objPlato.plato_pre}</strong>\r\n      </p>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default PosComandaItem\r\n","import React, { useContext, useRef } from 'react'\r\nimport { Modal } from \"react-bootstrap\";\r\nimport ReactToPrint from \"react-to-print\";\r\n\r\nimport PosContext from '../../../../../context/pos/posContext';\r\n\r\nconst PosModalBoleta = () => {\r\n\r\n  const referencia = useRef();\r\n\r\n  const { modal_boleta, setModalBoleta, borrarPedido } = useContext(PosContext);\r\n\r\n  return (\r\n    <>\r\n      <Modal show={modal_boleta} onHide={() => {\r\n        setModalBoleta(false);\r\n        borrarPedido();\r\n      }} size=\"xl\">\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Modal heading</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n\r\n          <div className=\"container\" ref={referencia}>\r\n            <div className=\"row\">\r\n              <div className=\"col-12\">\r\n                <div className=\"card\">\r\n                  <div className=\"card-body p-0\">\r\n                    <div className=\"row p-5\">\r\n                      <div className=\"col-xl-6\">\r\n                        <img src=\"http://via.placeholder.com/400x90?text=logo\" />\r\n                      </div>\r\n\r\n                      <div className=\"col-xl-6 text-right\">\r\n                        <p className=\"font-weight-bold mb-1\">Invoice #550</p>\r\n                        <p className=\"text-muted\">Due to: 4 Dec, 2019</p>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <hr className=\"my-5\" />\r\n\r\n                    <div className=\"row pb-5 p-5\">\r\n                      <div className=\"col-md-6\">\r\n                        <p className=\"font-weight-bold mb-4\">Client Information</p>\r\n                        <p className=\"mb-1\">John Doe, Mrs Emma Downson</p>\r\n                        <p>Acme Inc</p>\r\n                        <p className=\"mb-1\">Berlin, Germany</p>\r\n                        <p className=\"mb-1\">6781 45P</p>\r\n                      </div>\r\n\r\n                      <div className=\"col-md-6 text-right\">\r\n                        <p className=\"font-weight-bold mb-4\">Payment Details</p>\r\n                        <p className=\"mb-1\"><span className=\"text-muted\">VAT: </span> 1425782</p>\r\n                        <p className=\"mb-1\"><span className=\"text-muted\">VAT ID: </span> 10253642</p>\r\n                        <p className=\"mb-1\"><span className=\"text-muted\">Payment Type: </span> Root</p>\r\n                        <p className=\"mb-1\"><span className=\"text-muted\">Name: </span> John Doe</p>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"row p-5\">\r\n                      <div className=\"col-md-12\">\r\n                        <table className=\"table\">\r\n                          <thead>\r\n                            <tr>\r\n                              <th className=\"border-0 text-uppercase small font-weight-bold\">ID</th>\r\n                              <th className=\"border-0 text-uppercase small font-weight-bold\">Item</th>\r\n                              <th className=\"border-0 text-uppercase small font-weight-bold\">Description</th>\r\n                              <th className=\"border-0 text-uppercase small font-weight-bold\">Quantity</th>\r\n                              <th className=\"border-0 text-uppercase small font-weight-bold\">Unit Cost</th>\r\n                              <th className=\"border-0 text-uppercase small font-weight-bold\">Total</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            <tr>\r\n                              <td>1</td>\r\n                              <td>Software</td>\r\n                              <td>LTS Versions</td>\r\n                              <td>21</td>\r\n                              <td>$321</td>\r\n                              <td>$3452</td>\r\n                            </tr>\r\n                            <tr>\r\n                              <td>1</td>\r\n                              <td>Software</td>\r\n                              <td>Support</td>\r\n                              <td>234</td>\r\n                              <td>$6356</td>\r\n                              <td>$23423</td>\r\n                            </tr>\r\n                            <tr>\r\n                              <td>1</td>\r\n                              <td>Software</td>\r\n                              <td>Sofware Collection</td>\r\n                              <td>4534</td>\r\n                              <td>$354</td>\r\n                              <td>$23434</td>\r\n                            </tr>\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"d-flex flex-row-reverse bg-dark text-white p-4\">\r\n                      <div className=\"py-3 px-5 text-right\">\r\n                        <div className=\"mb-2\">Grand Total</div>\r\n                        <div className=\"h2 font-weight-light\">$234,234</div>\r\n                      </div>\r\n\r\n                      <div className=\"py-3 px-5 text-right\">\r\n                        <div className=\"mb-2\">Discount</div>\r\n                        <div className=\"h2 font-weight-light\">10%</div>\r\n                      </div>\r\n\r\n                      <div className=\"py-3 px-5 text-right\">\r\n                        <div className=\"mb-2\">Sub - Total amount</div>\r\n                        <div className=\"h2 font-weight-light\">$32,432</div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"text-light mt-5 mb-5 text-center small\">by : <a className=\"text-light\" target=\"_blank\" href=\"http://totoprayogo.com\">totoprayogo.com</a></div>\r\n\r\n          </div>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n\r\n          <ReactToPrint\r\n            trigger={() => {\r\n              return <button className=\"btn btn-dark\">\r\n                <i className=\"fas fa-print\"></i> Imprimir!\r\n                     </button>\r\n            }}\r\n            content={() => {\r\n              return referencia.current;\r\n            }}\r\n          />\r\n\r\n          <button classNameName=\"btn btn-danger\" onClick={() => {\r\n            console.log(referencia.current);\r\n          }}>\r\n            Cerrar\r\n          </button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default PosModalBoleta\r\n","import React, { useContext } from 'react'\r\nimport PosContext from '../../../../../context/pos/posContext'\r\nimport { postPedido } from '../../../../../services/pedidoService';\r\nimport PosComandaItem from './PosComandaItem';\r\nimport moment from \"moment\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport Swal from \"sweetalert2\";\r\nimport PosModalBoleta from './PosModalBoleta';\r\n\r\nconst PosComanda = () => {\r\n\r\n  const { pedidos, mesa_global, borrarPedido, setModalBoleta } = useContext(PosContext);\r\n\r\n  let pedidoActual = null;\r\n\r\n  if (mesa_global) {\r\n    pedidoActual = pedidos.find(objPedido => objPedido.objMesa.mesa_id === mesa_global.mesa_id);\r\n  }\r\n\r\n  const pagar = () => {\r\n    // armar el objeto pedido\r\n    /**\r\n     * {\r\n    \"pedido_fech\": \"2021-01-15 09:20:00\",\r\n    \"pedido_nro\": \"123\",\r\n    \"pedido_est\": \"pagado\",\r\n    \"usu_id\": 9,\r\n    \"mesa_id\": 4,\r\n    \"pedidoplatos\": [\r\n            {\r\n                \"plato_id\": 1,\r\n                \"pedidoplato_cant\": 3\r\n            },\r\n            {\r\n                \"plato_id\": 2,\r\n                \"pedidoplato_cant\": 2\r\n            }\r\n        ]\r\n    }\r\n     */\r\n\r\n    Swal.fire({\r\n      title: \"¿Pagar el pedido?\",\r\n      text: \"Confirme que está cancelando el total del pedido\",\r\n      icon: \"warning\",\r\n      showCancelButton: true\r\n    }).then(rpta => {\r\n\r\n      if (rpta.isConfirmed) {\r\n        let pedidoActual = pedidos.find(pedido => pedido.objMesa.mesa_id === mesa_global.mesa_id);\r\n        let platos = pedidoActual.platos.map(plato => {\r\n          return {\r\n            plato_id: plato.plato_id,\r\n            pedidoplato_cant: plato.cantidad\r\n          }\r\n        });\r\n        const objPedido = {\r\n          pedido_fech: moment().format(\"YYYY-MM-DD HH:mm:ss\"),\r\n          pedido_nro: uuidv4(),\r\n          pedido_est: \"pagado\",\r\n          usu_id: 2,\r\n          mesa_id: mesa_global.mesa_id,\r\n          pedidoplatos: platos\r\n        }\r\n        postPedido(objPedido).then(data => {\r\n          if (data.ok) {\r\n            // TO-DO: borrar el pedido de la mesa actual\r\n            Swal.fire({\r\n              title: \"Hecho!\",\r\n              text: \"Pedido registrado en la base de datos\",\r\n              icon: \"success\",\r\n              timer: 700,\r\n              position: \"top-right\"\r\n            });\r\n            setModalBoleta(true);\r\n            //borrarPedido();\r\n          }\r\n        })\r\n      }\r\n    })\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n  return (\r\n    <div className=\"comanda\">\r\n      <h4 className=\"comanda__mesa\">{mesa_global ? `Mesa ${mesa_global.mesa_nro}` : \"Sin mesa seleccionada\"}</h4>\r\n      <p className=\"comanda__usuario\">Carlos Jimenez</p>\r\n      <hr />\r\n\r\n      {\r\n        !mesa_global ?\r\n          (<div>Seleccione una mesa</div>) :\r\n          pedidoActual ?\r\n            (<>\r\n              <ul className=\"comanda__lista\">\r\n                {\r\n                  pedidoActual.platos.map(objPlato => {\r\n                    return (<PosComandaItem objPlato={objPlato} key={objPlato.plato_id} />)\r\n                  })\r\n                }\r\n              </ul>\r\n              <button className=\"boton boton-success boton-block\" onClick={() => {\r\n                pagar();\r\n              }}>PAGAR</button>\r\n            </>) :\r\n            <div>\r\n              No hay pedidos en la mesa {mesa_global.mesa_nro} 😥\r\n            </div>\r\n\r\n      }\r\n\r\n      <PosModalBoleta />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PosComanda\r\n","export default __webpack_public_path__ + \"static/media/logo.a9757059.svg\";","export default __webpack_public_path__ + \"static/media/search.c031f9ef.svg\";","import React, { useContext } from 'react'\r\nimport AuthContext from '../../../../../context/auth/authContext'\r\nimport logo from \"./../../../../../assets/img/logo.svg\"\r\nimport searchIcon from \"./../../../../../assets/img/search.svg\"\r\nimport { Link } from \"react-router-dom\";\r\nconst PosHeader = () => {\r\n\r\n  const { usu_nom, cerrarSesion } = useContext(AuthContext)\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <div className=\"header__logo\">\r\n        <img src={logo} alt=\"\" />\r\n      </div>\r\n      <div className=\"header__buscador\">\r\n        <img src={searchIcon} alt=\"\" />\r\n        <input type=\"text\" className=\"header__input\" placeholder=\"Busca un término\" />\r\n      </div>\r\n      <div className=\"header__usuario mr-4\">\r\n        <Link className=\"btn btn-success mr-2\" to=\"/admin/dashboard\">\r\n          Ir a admin\r\n        </Link>\r\n        <button className=\"btn btn-danger mr-2\"\r\n          onClick={() => {\r\n            cerrarSesion();\r\n          }}><i class=\"fas fa-door-open\"></i>Salir</button>\r\n        <img src=\"https://randomuser.me/api/portraits/men/90.jpg\" alt=\"\" />\r\n        <span >{usu_nom}</span>\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default PosHeader\r\n","import { URL_BACKEND } from \"../environments/environments\"\r\n\r\nexport const getMesas = async () => {\r\n  const peticion = await fetch(`${URL_BACKEND}/mesa`);\r\n  const data = await peticion.json();\r\n  return data;\r\n}","import React, { useContext, useEffect, useState } from 'react'\r\nimport PosContext from '../../../../../context/pos/posContext';\r\nimport { getMesas } from '../../../../../services/mesasService';\r\n\r\nconst PosMesas = () => {\r\n\r\n  const [mesas, setMesas] = useState([]);\r\n  const [cargando, setCargando] = useState(true);\r\n  const { seleccionarMesaGlobal, mesa_global } = useContext(PosContext);\r\n\r\n  useEffect(() => {\r\n    getMesas().then(data => {\r\n      if (data.ok) {\r\n        setMesas(data.content);\r\n      }\r\n      setCargando(false);\r\n    })\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"mesas\">\r\n      <ul className=\"mesas__lista\">\r\n        {\r\n          cargando ?\r\n\r\n            <div className=\"spinner-border text-light\" role=\"status\">\r\n              <span className=\"sr-only\">Loading...</span>\r\n            </div> :\r\n\r\n            mesas.map((objMesa) => {\r\n              return (<li className={objMesa.mesa_id === mesa_global?.mesa_id ? \"mesas__mesa activo\" : \"\"}\r\n                key={objMesa.mesa_id} onClick={() => {\r\n                  seleccionarMesaGlobal(objMesa);\r\n                }}>\r\n                <span className=\"mesas__titulo\">Mesa</span>\r\n                <span className=\"mesas__numero\">{objMesa.mesa_nro}</span>\r\n              </li>)\r\n            })\r\n        }\r\n      </ul>\r\n      <div className=\"mesas__info\"></div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PosMesas\r\n","import React, { useContext } from 'react'\r\nimport PosContext from '../../../../../context/pos/posContext';\r\n\r\nconst PosPlato = ({ objPlato }) => {\r\n  const { incrementarPlatoAPedido, restarPlatoAPedido } = useContext(PosContext);\r\n  return (\r\n    <div className=\"carta__plato\">\r\n      <img\r\n        src={objPlato.plato_img}\r\n        alt=\"\" />\r\n      <h4 className=\"carta__titulo\">{objPlato.plato_nom}</h4>\r\n      <span className=\"carta__precio\">S/ {objPlato.plato_pre}</span>\r\n      <div className=\"carta__botones\">\r\n        <button className=\"boton boton-outline-primary boton-restar\"\r\n          onClick={() => {\r\n            restarPlatoAPedido(objPlato);\r\n          }}>-1</button>\r\n        <button className=\"boton boton-outline-primary boton-sumar\"\r\n          onClick={() => {\r\n            incrementarPlatoAPedido(objPlato);\r\n          }}>+1</button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PosPlato\r\n","import React, { useContext, useEffect, useState } from 'react'\r\nimport PosContext from '../../../../../context/pos/posContext';\r\nimport { getPlatosByCategoriaId } from '../../../../../services/categoriaService';\r\nimport PosPlato from './PosPlato'\r\n\r\nconst PosPlatos = () => {\r\n\r\n  const [platos, setPlatos] = useState([]);\r\n  const [cargando, setCargando] = useState(true);\r\n  const { categoria_global } = useContext(PosContext);\r\n\r\n  // SI NO TENEMOS UNA CATEGORIA GLOBAL, NO MOSTRAR NADA⚡\r\n  // SI TENEMOS UNA CATEGORIA GLOBAL, CARGAR LOS PLATOS DE DICHA CATEGORÍA\r\n  // SI LA CATEOGRÍA GLOBAL CAMBIA, EL COMPONENTE POSPLATOS, DEBE ACTUALIZAR LA INFO\r\n  // CON LOS NUEVOS PLATOS\r\n\r\n  useEffect(() => {\r\n    setCargando(true)\r\n    if (categoria_global) {\r\n      getPlatosByCategoriaId(categoria_global.categoria_id).then(data => {\r\n        if (data.ok) {\r\n          setPlatos(data.content.Platos);\r\n          setCargando(false);\r\n        }\r\n      })\r\n    }\r\n  }, [categoria_global]);\r\n\r\n\r\n  return (\r\n    <div className=\"carta__platos\">\r\n      {\r\n        categoria_global ?\r\n          cargando ?\r\n            <div className=\"text-light\">Cargando</div> :\r\n            (\r\n              platos.map(objPlato => {\r\n                return <PosPlato objPlato={objPlato} key={objPlato.plato_id} />\r\n              })\r\n            )\r\n          :\r\n          <h4 className=\"text-light\">\r\n            Ninguna categoría ha sido seleccionada\r\n          </h4>\r\n      }\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PosPlatos\r\n","import React, { useContext } from 'react'\r\nimport PosContext from '../../../../context/pos/posContext'\r\nimport PosCategorias from './components/PosCategorias'\r\nimport PosComanda from './components/PosComanda'\r\nimport PosHeader from './components/PosHeader'\r\nimport PosMesas from './components/PosMesas'\r\nimport PosPlatos from './components/PosPlatos'\r\n\r\nconst PosPedidoScreen = () => {\r\n  const { categoria_global, mesa_global } = useContext(PosContext);\r\n  return (\r\n    <>\r\n      <PosHeader />\r\n      <main className=\"pos-container\">\r\n        <PosCategorias />\r\n        <section className=\"tabla\">\r\n          <PosMesas />\r\n          <div className=\"pedido\">\r\n            <div className=\"carta\">\r\n              <h3>Lista de Platos Categoria: &nbsp;\r\n                <span className=\"color-secundario\">{categoria_global?.categoria_nom || \"Seleccione\"}</span>\r\n              </h3>\r\n\r\n              <PosPlatos />\r\n            </div>\r\n            <div className=\"boleta\">\r\n              <h3>Pedido Mesa: &nbsp;\r\n                <span className=\"color-secundario\">{mesa_global?.mesa_nro || \"Seleccione\"}</span>\r\n              </h3>\r\n              <hr />\r\n              <PosComanda />\r\n            </div>\r\n          </div>\r\n        </section>\r\n      </main>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default PosPedidoScreen\r\n","import React from 'react'\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport PosState from '../../context/pos/posState';\r\nimport PosPedidoScreen from './screens/pedido/PosPedidoScreen';\r\nconst PosRouter = () => {\r\n  return (\r\n    <PosState>\r\n      <Switch>\r\n        <Route path=\"/pos/pedido\" component={PosPedidoScreen} />\r\n      </Switch>\r\n    </PosState>\r\n\r\n  )\r\n}\r\n\r\nexport default PosRouter\r\n","import React, { useContext } from 'react'\r\nimport { Redirect, Route } from \"react-router-dom\";\r\nimport AuthContext from './context/auth/authContext';\r\n\r\nconst Private = ({ path, component: Component }) => {\r\n\r\n  const { autenticado, cargando } = useContext(AuthContext);\r\n\r\n  if (cargando) {\r\n    return <div>Cargando...</div>\r\n  } else {\r\n    return (\r\n      autenticado ? <Route path={path} component={Component} /> :\r\n        <Redirect to=\"/auth/login\" />\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default Private\r\n","import React from 'react'\r\nimport { HashRouter, Redirect, Route, Switch } from \"react-router-dom\";\r\nimport AuthState from './context/auth/authState';\r\nimport AdminRouter from './modules/admin/AdminRouter';\r\nimport AuthRouter from './modules/auth/AuthRouter';\r\nimport PosRouter from './modules/pos/PosRouter';\r\nimport Private from './Private';\r\nconst App = () => {\r\n  return (\r\n    <HashRouter>\r\n      <AuthState>\r\n        <Switch>\r\n          <Route path=\"/auth\" component={AuthRouter} />\r\n          <Private path=\"/pos\" component={PosRouter} />\r\n          <Private path=\"/admin\" component={AdminRouter} />\r\n          <Redirect to=\"/auth/login\" />\r\n        </Switch>\r\n      </AuthState>\r\n    </HashRouter>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport \"bootstrap/dist/css/bootstrap.min.css\"\r\nimport \"./styles/styles.css\"\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}